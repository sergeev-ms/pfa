<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd"
        caption="msg://activityInput.caption"
        messagesPack="com.borets.pfa.web.screens.activity.activity.input">
    <data>
        <keyValueInstance id="activityInputDc">
            <properties>
                <property name="account" class="com.borets.pfa.entity.account.Account"/>
                <property name="year" datatype="int"/>
                <property name="yearMonth" datatype="yearMonth"/>
                <property name="recordType" class="com.borets.pfa.entity.activity.RecordType"/>
            </properties>
        </keyValueInstance>
        <keyValueCollection id="detailsDc">
            <properties>
                <property name="jobType" class="com.borets.pfa.entity.activity.JobType"/>
                <property name="wellTag" class="com.borets.pfa.entity.activity.WellTag"/>
                <property name="wellEquip" class="com.borets.pfa.entity.activity.WellEquip"/>
                <property name="contractType" class="com.borets.pfa.entity.activity.ContractType"/>
            </properties>
        </keyValueCollection>
        <collection id="accountsDc" class="com.borets.pfa.entity.account.Account" view="_minimal">
            <loader>
                <query>from pfa_Account e</query>
            </loader>
        </collection>
    </data>
    <layout expand="detailsGb" spacing="true">
        <groupBox id="headerGb" caption="msg://headerGb.caption">
            <form dataContainer="activityInputDc" id="headerForm">
                <column>
                    <lookupField id="accountField" property="account" optionsContainer="accountsDc" required="true"/>
                    <lookupField id="recordTypeField" property="recordType" required="true"
                                 optionsEnum="com.borets.pfa.entity.activity.RecordType"/>
                </column>
                <column>
                    <lookupField id="yearField" property="year" required="true"/>
                    <lookupField id="yearMonthField" property="yearMonth"/>
                </column>
                <column width="150px">
                    <linkButton id="showPrevDataBtn" caption="msg://showPrevDataBtn.caption"/>
                </column>
            </form>
        </groupBox>
        <groupBox id="detailsGb" caption="msg://detailsGb.caption" width="100%" expand="detailDg" spacing="true">
            <form>
                <column>
                    <lookupField id="filterJobTypeField" optionsEnum="com.borets.pfa.entity.activity.JobType" caption="msg://filterJobType.caption"/>
                </column>
                <column>
                    <lookupField id="filterWellTagField" optionsEnum="com.borets.pfa.entity.activity.WellTag" caption="msg://filterWellTag.caption"/>
                </column>
                <column>
                    <lookupField id="filterWellEquipField" optionsEnum="com.borets.pfa.entity.activity.WellEquip" caption="msg://filterWellEquip.caption"/>
                </column>
                <column>
                    <lookupField id="filterContractTypeField" optionsEnum="com.borets.pfa.entity.activity.ContractType" caption="msg://filterContractType.caption"/>
                </column>
            </form>
            <dataGrid id="detailDg" dataContainer="detailsDc" editorEnabled="false" width="100%"
                      editorBuffered="false" selectionMode="NONE">
                <columns>
                    <column property="jobType" editable="false"/>
                    <column property="wellTag" editable="false"/>
                    <column property="wellEquip" editable="false"/>
                    <column property="contractType" editable="false"/>
                </columns>
            </dataGrid>
        </groupBox>
        <hbox id="editActions" spacing="true">
            <button id="createActivityBtn" caption="msg://createActivityBtn.caption"/>
            <button id="closeBtn" caption="msg://closeBtn.caption"/>
        </hbox>
    </layout>
</window>